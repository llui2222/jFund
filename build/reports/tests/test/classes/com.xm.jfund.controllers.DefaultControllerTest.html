<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class com.xm.jfund.controllers.DefaultControllerTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class com.xm.jfund.controllers.DefaultControllerTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.xm.jfund.controllers.html">com.xm.jfund.controllers</a> &gt; DefaultControllerTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">29</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.825s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
<li>
<a href="#tab2">Standard error</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">testCalculateOrderVolumeDangerLevelThresholdAlmostReached</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCalculateOrderVolumeDangerLevelThresholdExceeded</td>
<td>0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCalculateOrderVolumeDangerLevelThresholdReached</td>
<td>0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCalculateOrderVolumeSingleTradeThresholdExceeded</td>
<td>0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCalculateOrderVolumeSumOfExposures</td>
<td>0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testFlow</td>
<td>0.009s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testFlow_overDanger</td>
<td>0.723s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_overDangerExposureLevel</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_overDangerExposureLevelPositive</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_swing</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_zero</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_zeroDanger</td>
<td>0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetSafeVolume_zeroExposure</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetVolumes_zeroMaxInstruments</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_pendingVolumeResultNotValid</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresChangedDirection</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresChangedToZero</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresGreaterThanVolume</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresLessThanVolume</td>
<td>0.002s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresLessThanVolumeButTurnsIntoZero</td>
<td>0.003s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testHandleIfPendingVolumeIsStillValid_sumOfExposuresSameAsVolume</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testIsOverTheAntiVolume</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testIsPendingVolumeInSameDirection</td>
<td>0.001s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSplitVolumes</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSplitVolumesAdjustForChangingSumOfExposures</td>
<td>0.006s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSplitVolumesAdjustForDangerLevel</td>
<td>0.004s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSplitsToZeroVolumes</td>
<td>0.009s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testValidateSplitVolumes_signDoesntMatch</td>
<td>0.008s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testValidateSplitVolumes_sumIsTooLarge</td>
<td>0.010s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>16:52:46,768 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
16:52:46,768 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]
16:52:46,769 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/C:/XMProjects/jFund/build/resources/main/logback.xml]
16:52:46,830 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set
16:52:46,831 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
16:52:46,839 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]
16:52:46,847 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property
16:52:46,893 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
16:52:46,896 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [FILE]
16:52:46,903 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@2061775332 - Archive files will be limited to [100 MB] each.
16:52:46,906 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@2061775332 - Will use zip compression
16:52:46,907 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@2061775332 - Will use the pattern logs/archived/jfund.%d{yyyy-MM-dd}.%i.log for the active file
16:52:46,910 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@744166f3 - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/archived/jfund.%d{yyyy-MM-dd}.%i.log.zip'.
16:52:46,910 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@744166f3 - Roll-over at midnight.
16:52:46,913 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@744166f3 - Setting initial period to Tue Oct 23 16:17:54 EEST 2018
16:52:46,916 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property
16:52:46,918 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - Active log file name: logs/jfund.log
16:52:46,918 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - File property is set to [logs/jfund.log]
16:52:46,919 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
16:52:46,919 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [THRESHOLDS_TYPES_LOG]
16:52:46,920 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@20:24 - no applicable action for [discriminator], current ElementPath  is [[configuration][appender][discriminator]]
16:52:46,920 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@21:18 - no applicable action for [key], current ElementPath  is [[configuration][appender][discriminator][key]]
16:52:46,920 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@22:27 - no applicable action for [defaultValue], current ElementPath  is [[configuration][appender][discriminator][defaultValue]]
16:52:46,921 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@562792867 - Archive files will be limited to [100 MB] each.
16:52:46,921 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@562792867 - Will use zip compression
16:52:46,921 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@562792867 - Will use the pattern logs/archived/current_active_symbol_thresholds.%d{yyyy-MM-dd}.%i.log for the active file
16:52:46,922 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@5eefc70d - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/archived/current_active_symbol_thresholds.%d{yyyy-MM-dd}.%i.log.zip'.
16:52:46,922 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@5eefc70d - Roll-over at midnight.
16:52:46,922 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@5eefc70d - Setting initial period to Fri Oct 12 09:58:35 EEST 2018
16:52:46,924 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property
16:52:46,924 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[THRESHOLDS_TYPES_LOG] - Active log file name: logs/current_active_symbol_thresholds.log
16:52:46,924 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[THRESHOLDS_TYPES_LOG] - File property is set to [logs/current_active_symbol_thresholds.log]
16:52:46,925 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.classic.sift.SiftingAppender]
16:52:46,926 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [CSV_FILE]
16:52:46,931 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.sift.MDCBasedDiscriminator] for [discriminator] property
16:52:46,935 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [csvLogger] to false
16:52:46,935 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [CSV_FILE] to Logger[csvLogger]
16:52:46,936 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [sCurrentActiveSymbolThresholdLogger] to false
16:52:46,936 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [THRESHOLDS_TYPES_LOG] to Logger[sCurrentActiveSymbolThresholdLogger]
16:52:46,936 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG
16:52:46,936 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [FILE] to Logger[ROOT]
16:52:46,936 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]
16:52:46,936 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.
16:52:46,937 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@55fa625 - Registering current configuration as safe fallback point

2018-10-23 16:52:47.529 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 500000.0, Instead, reducing to this volume: -1000000.0
2018-10-23 16:52:47.553 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -1000000.0. Number of chunks: 100. First chunk: -0.1. Last chunk: -0.1
2018-10-23 16:52:47.673 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 20.0, Instead, reducing to this volume: 0.0010000000000047748
2018-10-23 16:52:47.674 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: 0.0010000000000047748. Number of chunks: 0
2018-10-23 16:52:47.684 [Test worker] ERROR c.x.j.controllers.DefaultController - Incorrect splits: Sum of splits: -4.199999999999999, Naive volue: -2.0999999999999996, Splits: [-1.4, -1.4, -1.4]
2018-10-23 16:52:47.688 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was larger than sum of exposures. Clearing state. Using sum of exposures instead. Clearing pending volume state. Strategy: 1, Symbol: USDJPY, Sum of exposures: -99999.0, Old volume: 1.0, New volume: 0.99
2018-10-23 16:52:47.701 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -200000.1. Number of chunks: 0
2018-10-23 16:52:47.704 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 1.0E8, Instead, reducing to this volume: 9.7000001E7
2018-10-23 16:52:47.713 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: USDJPY, Sum of exposures: -1.0, Pending volume: 1.0
2018-10-23 16:52:47.716 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: 500000.0. Number of chunks: 50. First chunk: 0.1. Last chunk: 0.1
2018-10-23 16:52:47.717 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: EURUSD, Sum of exposures: 5000.0, Pending volume: 0.1
2018-10-23 16:52:47.718 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 749000.0, Instead, reducing to this volume: 490000.0
2018-10-23 16:52:47.719 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: 490000.0. Number of chunks: 49. First chunk: 0.1. Last chunk: 0.1
2018-10-23 16:52:47.720 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: EURUSD, Sum of exposures: 0.0, Pending volume: 0.1
2018-10-23 16:52:47.721 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 600000.0, Instead, reducing to this volume: 480000.0
2018-10-23 16:52:47.723 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: 480000.0. Number of chunks: 48. First chunk: 0.1. Last chunk: 0.1
2018-10-23 16:52:47.724 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: EURUSD, Sum of exposures: 0.0, Pending volume: 0.1
2018-10-23 16:52:47.732 [Test worker] ERROR c.x.j.controllers.DefaultController - Bad sign for split volumes. Naive volume: 5.6, Split volumes: [1.4, -1.4, 2.8]
2018-10-23 16:52:47.735 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: USDJPY, Sum of exposures: 0.0, Pending volume: 1.0
2018-10-23 16:52:47.741 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -400000.0. Number of chunks: 2. First chunk: -3.0. Last chunk: -1.0
2018-10-23 16:52:47.741 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was larger than sum of exposures. Clearing state. Using sum of exposures instead. Clearing pending volume state. Strategy: 1, Symbol: EURUSD, Sum of exposures: 50000.0, Old volume: -1.0, New volume: -0.5
2018-10-23 16:52:47.745 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -20.0. Number of chunks: 1. First chunk: -20.0. Last chunk: -20.0
2018-10-23 16:52:47.746 [Test worker] INFO  c.x.j.controllers.DefaultController - Pending volume was not in same direction as our intended direction. Clearing state.  Strategy: 1, Symbol: USDJPY, Sum of exposures: 100.0, Pending volume: 1.0
2018-10-23 16:52:47.749 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -20.0, Instead, reducing to this volume: -10.0
2018-10-23 16:52:47.750 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -10.0. Number of chunks: 1. First chunk: -10.0. Last chunk: -10.0
2018-10-23 16:52:47.752 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -1000000.0, Instead, reducing to this volume: -500000.0
2018-10-23 16:52:47.758 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -60.0, Instead, reducing to this volume: -50.0
2018-10-23 16:52:47.759 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -50.0. Number of chunks: 2. First chunk: -30.0. Last chunk: -20.0
2018-10-23 16:52:47.761 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: 20.0, Instead, reducing to this volume: 0.0
2018-10-23 16:52:47.762 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: 0.0. Number of chunks: 0
2018-10-23 16:52:47.765 [Test worker] INFO  c.x.j.controllers.DefaultController - Symbol: EURUSD, Split sum: -100.0. Number of chunks: 2. First chunk: -50.0. Last chunk: -50.0
2018-10-23 16:52:47.772 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -9.5000002E7, Instead, reducing to this volume: -100.0
2018-10-23 16:52:47.775 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -9.5000002E7, Instead, reducing to this volume: -9.5000001E7
2018-10-23 16:52:47.776 [Test worker] INFO  c.x.j.controllers.DefaultController - Naive potential volume would put us over the danger exposure threshold. Naive volume: -9.5E7, Instead, reducing to this volume: -1.1E7
</pre>
</span>
</div>
<div id="tab2" class="tab">
<h2>Standard error</h2>
<span class="code">
<pre>SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/C:/Users/astaroverov/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/C:/Users/astaroverov/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-jdk14/1.7.25/bccda40ebc8067491b32a88f49615a747d20082d/slf4j-jdk14-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.1</a> at Oct 23, 2018 4:52:50 PM</p>
</div>
</div>
</body>
</html>
